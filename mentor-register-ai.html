<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ò–ò ‚Äî OldSchool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        
        .chat-container {
            height: calc(100vh - 180px);
            overflow-y: auto;
            scroll-behavior: smooth;
        }
        
        .message-bot {
            background: linear-gradient(135deg, #4F46E5 0%, #6366F1 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 1.5rem 1.5rem 1.5rem 0.25rem;
            max-width: 75%;
            animation: slideInLeft 0.3s ease-out;
        }
        
        .message-user {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 1.5rem 1.5rem 0.25rem 1.5rem;
            max-width: 75%;
            animation: slideInRight 0.3s ease-out;
            margin-left: auto;
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .recording {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
            }
        }
        
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 1rem 1.5rem;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.7);
            animation: typingAnimation 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typingAnimation {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }
        
        @media (max-width: 768px) {
            .chat-container {
                height: calc(100vh - 150px);
            }
            
            header .flex {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }
            
            header h1 {
                font-size: 1.125rem !important;
            }
            
            header p {
                font-size: 0.75rem !important;
            }
            
            .message-bot, .message-user {
                max-width: 85%;
                padding: 0.75rem 1rem;
                font-size: 1rem;
            }
            
            input[type="text"] {
                padding: 0.75rem 1rem !important;
                font-size: 1rem !important;
            }
            
            .w-14 {
                width: 3rem !important;
                height: 3rem !important;
            }
            
            .w-10 {
                width: 2.5rem !important;
                height: 2.5rem !important;
            }
        }
        
        @media (max-width: 640px) {
            .message-bot, .message-user {
                max-width: 90%;
            }
            
            header .flex > div:last-child {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-white to-purple-50">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 shadow-sm">
        <div class="max-w-5xl mx-auto px-8 py-4 flex items-center justify-between">
            <a href="mentor-register.html" class="text-lg font-medium text-gray-600 hover:text-primary transition-colors">‚Üê –ù–∞–∑–∞–¥ –∫ —Ñ–æ—Ä–º–µ</a>
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="text-xl font-bold gradient-text">AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç OldSchool</h1>
                    <p class="text-sm text-gray-500">–ü–æ–º–æ–≥—É –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É</p>
                </div>
            </div>
            <div class="w-24"></div>
        </div>
    </header>

    <!-- Chat Container -->
    <main class="max-w-5xl mx-auto px-8 py-6">
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden" style="height: calc(100vh - 180px);">
            <!-- Messages Area -->
            <div id="chatMessages" class="chat-container p-6 space-y-4">
                <!-- Initial message from bot -->
                <div class="flex">
                    <div class="message-bot">
                        <p class="text-lg">üëã –ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É –≤–∞–º –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É –º–µ–Ω—Ç–æ—Ä–∞.</p>
                        <p class="text-lg mt-2">–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–≤–µ—á–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–º –∏–ª–∏ –≥–æ–ª–æ—Å–æ–º ‚Äî —É–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏.</p>
                        <p class="text-lg mt-4 font-semibold">–î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º! –ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?</p>
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="border-t border-gray-200 p-4 bg-gray-50">
                <div class="flex items-end gap-3">
                    <input 
                        type="text" 
                        id="messageInput"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                        class="flex-1 px-6 py-4 text-lg border-2 border-gray-300 rounded-full focus:outline-none focus:border-primary"
                        onkeypress="if(event.key === 'Enter') sendMessage()"
                    >
                    <button 
                        id="voiceBtn"
                        class="w-14 h-14 rounded-full bg-gradient-to-br from-red-500 to-pink-500 text-white flex items-center justify-center hover:shadow-lg transition-all duration-200"
                        onmousedown="startRecording()"
                        onmouseup="stopRecording()"
                        ontouchstart="startRecording()"
                        ontouchend="stopRecording()"
                    >
                        <svg id="micIcon" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                    <button 
                        onclick="sendMessage()"
                        class="w-14 h-14 rounded-full bg-gradient-to-br from-secondary to-emerald-400 text-white flex items-center justify-center hover:shadow-lg transition-all duration-200"
                    >
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                        </svg>
                    </button>
                </div>
                <p id="recordingIndicator" class="text-center text-red-500 font-semibold mt-2 hidden">
                    üî¥ –ó–∞–ø–∏—Å—å –≥–æ–ª–æ—Å–∞...
                </p>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script>
        // Conversation state
        let conversationStep = 0;
        let mentorData = {};
        let isRecording = false;
        
        const questions = [
            { key: 'name', question: '–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç? (–§–ò–û)' },
            { key: 'age', question: '–°–∫–æ–ª—å–∫–æ –≤–∞–º –ª–µ—Ç? (–¥–ª—è –º–µ–Ω—Ç–æ—Ä–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–æ–∑—Ä–∞—Å—Ç 50+)' },
            { key: 'email', question: '–í–∞—à email –¥–ª—è —Å–≤—è–∑–∏?' },
            { key: 'phone', question: '–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å "–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å")' },
            { key: 'specialization', question: '–ö–∞–∫–∞—è –≤–∞—à–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è? –ù–∞–ø—Ä–∏–º–µ—Ä:\n‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ\n‚Ä¢ –ö–∞—Ä—å–µ—Ä–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ\n‚Ä¢ –ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ\n‚Ä¢ –§–∏–Ω–∞–Ω—Å—ã\n‚Ä¢ –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ\n‚Ä¢ –î—Ä—É–≥–æ–µ' },
            { key: 'experience', question: '–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º –æ–ø—ã—Ç–µ. –ß–µ–º –≤—ã –∑–∞–Ω–∏–º–∞–ª–∏—Å—å? –ö–∞–∫–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è?' },
            { key: 'skills', question: '–ö–∞–∫–∏–µ —É –≤–∞—Å –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏? (–ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)' },
            { key: 'price', question: '–ö–∞–∫—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–∑–Ω–µ—Å-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å? ($/—á–∞—Å)' },
            { key: 'freeOption', question: '–ì–æ—Ç–æ–≤—ã –ª–∏ –≤—ã –ø—Ä–æ–≤–æ–¥–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ª–∏—á–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏? (–¥–∞/–Ω–µ—Ç)' },
            { key: 'languages', question: '–ö–∞–∫–∏–º–∏ —è–∑—ã–∫–∞–º–∏ –≤—ã –≤–ª–∞–¥–µ–µ—Ç–µ? (–Ω–∞–ø—Ä–∏–º–µ—Ä: —Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)' }
        ];
        
        // Send message to chat
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message to chat
            addMessage(message, 'user');
            input.value = '';
            
            // Process response
            setTimeout(() => processAnswer(message), 500);
        }
        
        // Add message to chat
        function addMessage(text, sender) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex';
            
            if (sender === 'bot') {
                messageDiv.innerHTML = `<div class="message-bot"><p class="text-lg">${text.replace(/\n/g, '<br>')}</p></div>`;
            } else {
                messageDiv.innerHTML = `<div class="message-user"><p class="text-lg">${text}</p></div>`;
            }
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Show typing indicator
        function showTyping() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'flex';
            typingDiv.innerHTML = `
                <div class="message-bot typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Remove typing indicator
        function hideTyping() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }
        
        // Process user answer
        function processAnswer(answer) {
            const currentQuestion = questions[conversationStep];
            mentorData[currentQuestion.key] = answer;
            
            // Validate specific fields
            if (currentQuestion.key === 'age') {
                const age = parseInt(answer);
                if (isNaN(age) || age < 50) {
                    showTyping();
                    setTimeout(() => {
                        hideTyping();
                        addMessage('–ò–∑–≤–∏–Ω–∏—Ç–µ, –¥–ª—è –º–µ–Ω—Ç–æ—Ä–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–æ–∑—Ä–∞—Å—Ç 50+. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç.', 'bot');
                    }, 800);
                    return;
                }
            }
            
            // Move to next question
            conversationStep++;
            
            if (conversationStep < questions.length) {
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage(questions[conversationStep].question, 'bot');
                }, 1000);
            } else {
                // All questions answered
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addMessage('‚úÖ –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–±—Ä–∞–Ω—ã.', 'bot');
                    setTimeout(() => {
                        addMessage('–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 2-3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.', 'bot');
                        
                        // Save data and redirect
                        localStorage.setItem('mentorRegData', JSON.stringify(mentorData));
                        
                        setTimeout(() => {
                            window.location.href = 'index.html';
                        }, 3000);
                    }, 1500);
                }, 1000);
            }
        }
        
        // Voice recording (visual mockup)
        function startRecording() {
            isRecording = true;
            const voiceBtn = document.getElementById('voiceBtn');
            const recordingIndicator = document.getElementById('recordingIndicator');
            
            voiceBtn.classList.add('recording');
            recordingIndicator.classList.remove('hidden');
            
            // Simulate voice recognition (mockup)
            console.log('Voice recording started (mockup)');
        }
        
        function stopRecording() {
            if (!isRecording) return;
            
            isRecording = false;
            const voiceBtn = document.getElementById('voiceBtn');
            const recordingIndicator = document.getElementById('recordingIndicator');
            
            voiceBtn.classList.remove('recording');
            recordingIndicator.classList.add('hidden');
            
            // Simulate voice-to-text (mockup)
            const mockResponses = [
                '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á –°–∏–¥–æ—Ä–æ–≤',
                '58 –ª–µ—Ç',
                'ivan@example.com',
                '–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å',
                '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ',
                '–†–∞–±–æ—Ç–∞–ª –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–º –∫—Ä—É–ø–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ 20 –ª–µ—Ç, —É–ø—Ä–∞–≤–ª—è–ª –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–æ 200 —á–µ–ª–æ–≤–µ–∫',
                '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π, —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –±—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',
                '80',
                '–¥–∞',
                '—Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π'
            ];
            
            showTyping();
            setTimeout(() => {
                hideTyping();
                const mockText = conversationStep < mockResponses.length 
                    ? mockResponses[conversationStep] 
                    : '–û—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ –≥–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥';
                addMessage('üé§ ' + mockText, 'user');
                setTimeout(() => processAnswer(mockText), 500);
            }, 1500);
            
            console.log('Voice recording stopped (mockup)');
        }
        
        // Scroll to bottom on load
        window.addEventListener('load', () => {
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
        });
    </script>
</body>
</html>
